!function(n){var e=function(n,e){var o={};return{method:function(n,e){return n=n||[],o[n.join("::").toLowerCase()]={fn:e,inject:e.length>n.length},this},close:function(){return function(){var r=Array.prototype.slice.call(arguments,0),u=function(){for(var n=[],e=0,o=r.length;o>e;e++)n.push(t(r[e]));return n}().join("::");return o[u]?(o[u].inject&&r.unshift(n),o[u].fn.apply(e||o[u].fn,r)):n&&n.apply(e||n,r)}}}},t=function(n){return Object.prototype.toString.call(n).match(/\s([a-zA-Z]+)/)[1].toLowerCase()};"undefined"!=typeof module&&module.exports?module.exports=e:"undefined"!=typeof define&&define.amd?define([],function(){return e}):n.mutate=e}(this);